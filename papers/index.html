---
layout: default
title: Latest arXiv Papers
---

<div class="container">
  <div class="header">
    <h1>Latest Research Papers</h1>
    <p>Recent papers from arXiv on Transfer Learning and Distributionally Robust Optimization</p>
    <p>Papers are fetched daily and displayed for one month. After 30 days, papers are moved to the <a href="{{ site.baseurl }}/papers/archive">archive</a>.</p>
    <div class="header-actions">
      <button id="refresh-papers-btn" class="refresh-button" onclick="refreshPapers()">
        <i class="fas fa-sync-alt"></i> Refresh Papers Now
      </button>
      <a href="{{ site.baseurl }}/papers/archive" class="button archive-button">
        <i class="fas fa-archive"></i> View Archive
      </a>
    </div>
    <div id="refresh-status" class="refresh-status"></div>
  </div>

  <div class="papers-list">
    {% if site.data.arxiv_cache.papers and site.data.arxiv_cache.papers.size > 0 %}
      {% for paper in site.data.arxiv_cache.papers %}
        <div class="card paper-card">
          <h3>{{ paper.title }}</h3>
          <p class="authors">
            <strong>Authors:</strong> {{ paper.authors | join: ", " }}
          </p>
          <p class="categories">
            <strong>Categories:</strong> {{ paper.categories | join: ", " }}
          </p>
          <p class="published-date">
            <strong>Published:</strong> {{ paper.published }}
          </p>
          <p class="abstract">{{ paper.abstract }}</p>
          <div class="paper-links">
            <a href="{{ paper.pdf_link }}" class="button" target="_blank">
              <i class="fas fa-file-pdf"></i> PDF
            </a>
            <a href="{{ paper.arxiv_url }}" class="button" target="_blank">
              <i class="fas fa-external-link-alt"></i> arXiv
            </a>
          </div>
        </div>
      {% endfor %}
    {% else %}
      <div class="card">
        <p>Loading papers... If this message persists, please check the site build logs.</p>
        <p>Try refreshing the page in a few minutes.</p>
      </div>
    {% endif %}
  </div>
</div>

<script>
function refreshPapers() {
  const btn = document.getElementById('refresh-papers-btn');
  const status = document.getElementById('refresh-status');
  
  // Disable button and show loading state
  btn.disabled = true;
  btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Refreshing...';
  status.innerHTML = '<p style="color: #007bff;">Triggering paper refresh... This may take a few minutes.</p>';
  
  // Get repository info from GitHub username (assuming repo name is 'mypage')
  const repoOwner = '{{ site.social.github }}' || 'keyaozhan';
  const repoName = 'mypage'; // Update this if your repo has a different name
  const workflowId = 'update-papers.yml';
  
  // Open GitHub Actions page in new tab for manual trigger
  const actionsUrl = `https://github.com/${repoOwner}/${repoName}/actions/workflows/${workflowId}`;
  window.open(actionsUrl, '_blank');
  
  status.innerHTML = `
    <p style="color: #28a745;">
      <i class="fas fa-check-circle"></i> 
      Opened GitHub Actions page. Click "Run workflow" to manually refresh papers.
    </p>
    <p style="color: #6c757d; font-size: 0.9em;">
      The workflow will fetch new papers and update the site. Check back in a few minutes!
    </p>
  `;
  
  // Re-enable button after a delay
  setTimeout(() => {
    btn.disabled = false;
    btn.innerHTML = '<i class="fas fa-sync-alt"></i> Refresh Papers Now';
  }, 3000);
}
</script>

<style>
.refresh-button {
  background-color: #007bff;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;
  margin-top: 10px;
  transition: background-color 0.3s;
}

.refresh-button:hover:not(:disabled) {
  background-color: #0056b3;
}

.refresh-button:disabled {
  background-color: #6c757d;
  cursor: not-allowed;
}

.refresh-status {
  margin-top: 15px;
  padding: 10px;
  border-radius: 5px;
  background-color: #f8f9fa;
}

.header-actions {
  display: flex;
  gap: 10px;
  margin-top: 15px;
  flex-wrap: wrap;
}

.archive-button {
  background-color: #6c757d;
  color: white;
  text-decoration: none;
  padding: 10px 20px;
  border-radius: 5px;
  display: inline-block;
  transition: background-color 0.3s;
}

.archive-button:hover {
  background-color: #5a6268;
  color: white;
  text-decoration: none;
}
</style>